+++
author = "wifi-ninja"
date = 2022-12-16T22:10:00Z
description = "wifi, design, requirements gathering, best practice, client devices, wifi clients"
draft = true
image = "/images/blog/requirements-Gathering-client-devices.png"
image_webp = "/images/blog/requirements-Gathering-client-devices.webp"
title = "Requirements Gathering - Client Devices"

+++
The first step is to identify the client device types that will be supported within the environment, their quantities, and their wireless radio capabilities. The wireless network must serve all client devices simultaneously. Since Wi-Fi leverages a shared RF medium, the network design and configuration must balance requirements between all clients. This often requires a “lowest common denominator” approach to network design and implementation to accommodate the needs of all clients. Understanding the trade-offs and network design options first requires knowledge of the client devices that the Wi-Fi network will support.

Identify specific device models if possible so that you can gather detailed wireless radio characteristics and integrate them into the Wi-Fi network design and configuration. However, in some circumstances, such as public events, you cannot know the specific device models before the event. In such cases, identify generic device categories that are likely to be used and integrate the wireless radio capabilities for such devices into the network design.

Gather the following wireless radio capabilities for client devices:

### Wi-Fi Radio Type

identify the type of client radio and which Wi-Fi Alliance® certifications2 it has passed (for example, 802.11b/g/a/n/ac/ax). This will aid in your network design by determining the data rates supported, application throughput capabilities, and if 802.11b support is required on the network. Legacy 802.11a/b/g clients and single-stream 802.11n (1x1:1) clients typically require greater signal strength from the AP to maintain high data rates compared to multiple-stream 802.11n clients. The lack of MIMO (Multiple Input, Multiple Output) capability generally means a lack of advanced digital signal processing techniques, such as maximal ratio combining (MRC), when receiving transmissions from APs and can result in higher error rates and frame loss when signal strength is weak. Understanding these differences will aid in network design and ensure proper coverage and performance for all clients on the network.

A high-density Wi-Fi network typically disables 802.11b data rates to improve overall network capacity and performance. Frames transmitted at the low DSSS and HR/DSSS data rates consume significantly more airtime than frames transmitted at higher OFDM data rates used by 802.11g and 802.11n. Therefore, elimination of the DSSS and HR/DSSS data rates used by 802.11b clients will increase the overall capacity of the channel by reducing airtime utilization. Elimination of 802.11b data rates also reduces the need for protection mechanisms such as RTS/CTS and CTS-to-Self, which can reduce throughput for all clients on the channel by up to 40%. However, if the network must support a single 802.11b client, then all APs and clients must accommodate this requirement and allow use of at least one 802.11b data rate. The trade-offs associated with balancing the performance and capacity needs of a high-speed network with the need to maintain support for previous generations of low-speed clients are common on Wi-Fi networks. While Wi-Fi standards have continually evolved to provide increasing speed and capabilities, a focus on backwards-compatibility has been central to its increasing adoption, ubiquity, investment protection for consumers, and overall success.

It is highly recommended to support only 802.11n clients on high-density Wi-Fi networks whenever possible due to efficiencies in protocol operation that reduce network overhead (discussed in the “Sources of Wi-Fi Network Overhead” section). Also configure a fairly high minimum data rate in most high-density deployments (for example, 18 Mbps) to encourage clients to roam more aggressively to APs with sufficiently strong signal strength. Doing so helps clients use higher data rates, which conserves airtime and increases overall channel and network capacity.

### Channel Support

Identify the wireless channels supported by client devices and design the Wi-Fi network with a channel reuse plan that provides proper coverage and capacity. It is critical that the network design includes only those channels that are supported by the entire client population to avoid creating dead spots. Dead spots are the result of a network design in which a client device has no supported channel in a given physical area. Among clients that support dual bands, 5 GHz DFS channels (UNII-2 and UNII-2 Extended) are the least likely to be supported.

Some mobile devices and low-end laptops operate in only a single frequency band to reduce price and to increase battery life. This reduction in functionality means that manufacturers opt for trade-offs in equipment design, such as a single-band 2.4 GHz Wi-Fi chipset. While this allows full functionality within most home environments, it can present significant challenges in multiple-AP enterprise environments where capacity in the 2.4 GHz frequency band is often constrained. As integrated dual-band Wi-Fi chipsets commoditize to nearly equivalent price levels as single-band chipsets and battery performance improvements are realized with the future release of 802.11ac (5 GHz), mobile devices will eventually offer better integration into high-capacity environments. Until that time, you must design Wi-Fi networks with these constraints in mind. It is important to identify the percentage of the client population that only operates in the 2.4 GHz frequency band (single-band devices) and determine the desired client ratio between 2.4 GHz and 5 GHz frequency bands. Then use this information to perform proper network capacity planning and configure client band steering to provide the optimal balance of clients between frequency bands.

Finally, determine if clients support 40-MHz-wide channels. Wider channels facilitate greater peak throughput but reduce available spectrum for reuse by colocated or adjacent Wi-Fi cells. Many mobile clients and consumer devices do not support 40-MHz channels.

You can research channel support through local regulatory certification databases, such as the FCC3, Industry Canada4, and European Union CE Mark. Alternatively, if you have a particular device model, you can test for 3 FCC ID Search Form (Federal Communications Commission, Office of Engineering and Technology). High Density Wi-Fi Design & Configuration Guide | 15 channel support by capturing association requests from the device with a wireless sniffer or  AP operating in promiscuous mode, and then using a protocol analyzer to inspect the Supported Channels information element. This information element lists the channels supported by the device. Alternatively, you can attempt to connect it to an AP operating on various channels with various channel widths and verify both the connectivity and data rates that it supports.

### Transmit Power Output

Identify the transmit power output capabilities of client devices for integration into the Wi-Fi network coverage design. Then design your Wi-Fi network to provide high-quality, bidirectional communication between clients and access points with low error-rates, low frame-loss and symmetrical signal quality.

Poor transceiver capability (low output power, low antenna gain, low receive sensitivity) in some mobile devices requires careful infrastructure planning and high-grade infrastructure hardware to avoid creating asymmetric link quality, often referred to as the “Unbalanced Power Effect.” When access points transmit at substantially higher power output than client devices, clients may discover and associate to APs due to a sufficiently high receive signal strength. However, the AP might not be able to receive such a high quality signal due to the lower transmit power output capability of the client. In these situations, it is common to see good downstream link quality (AP-to-client) with poor upstream link quality (client-to-AP), usually with high error rates and frame loss on the uplink due to poor mobile device transceivers, poor receive sensitivity on the APs, or poor AP antenna gain. High quality enterprise-grade access point hardware with improved Receive Sensitivity can help compensate for low client transmit power, but it cannot eliminate this effect completely. In a mixed client environment, the infrastructure must balance the needs of all clients on the network. Therefore, access points should operate at similar power output levels as client devices, to facilitate proper AP selection and association by client devices for high-quality bidirectional communication.

You can research client power output through manufacturer-supplied documentation, local regulatory certification databases as referenced in the previous “Channel Support” section, or by contacting the device manufacturer directly.

Additionally, the IEEE 802.11k amendment includes provisions for radio resource management and dynamic power level negotiation between clients and access points. The forthcoming Voice-Enterprise certification by the Wi-Fi Alliance® includes radio resource management (RRM) capabilities from the 802.11k amendment. However, support for this capability has not been adopted by manufacturers to-date.

### Maximum Wi-Fi Data Rate

Once you identify the radio type (802.11a/b/g/n), including the supported number of 802.11n spatial streams and channel width, use the Wi-Fi Data Rate reference in the appendix to determine the maximum Wi-Fi data rate that the device can achieve. Data rates are determined by a number of variables, including modulation, guard interval, coding ratio, number of spatial streams, and channel width. For high-density Wi-Fi environments, a 20-MHz channel width and 800-ns guard interval (GI) should typically be assumed. This is described in greater detail in the “High Density Wi-Fi Network Design” section.

The maximum data rate is important for determining how fast a client can transmit and receive data, which affects the amount of airtime it consumes. In properly designed high-density Wi-Fi networks, clients should have strong signal strength and a high signal-to-noise ratio (SNR), which allows them to use high data rates a larger percentage of the time.

### Maximum TCP/IP Throughput

Due to various sources of network overhead, the maximum Wi-Fi data rate does not represent the actual application throughput. To estimate the maximum amount of TCP/IP throughput that a client can achieve, you must first determine the amount of network overhead either through live network testing under load or through an educated assumption. The sources of Wi-Fi network overhead are described in greater detail in the “Sources of Wi-Fi Network Overhead” section. Live network testing is the best and most accurate method of determining the actual throughput capabilities of a device. Whenever possible, you should perform testing with the same client devices that will connect to the network. The actual network equipment and configuration settings that will be deployed in production should be used, and the anticipated network load (number of clients, application traffic) should be emulated to account for network overhead from medium contention. However, if you cannot test with the actual devices before deployment, then an educated assumption will still aid in network planning. Historically, Wi-Fi professionals have found, through real-world measurements, that good estimates for network overhead when using TCP-based applications are around 60% for legacy 802.11a/b/g networks and can be as low as 40% for 802.11n networks. You should use a value within this range, with 40% being an aggressive performance loss estimate and 60% being more conservative. To estimate the maximum throughput for each device, multiply the maximum Wi-Fi data rate by the inverse of the network overhead. For example, an 802.11n single-stream client with a 65 Mbps maximum data rate and a network overhead assumption of 60% yields a maximum TCP throughput estimate of approximately 26 Mbps: 65 x (100% - 60%). For UDP and multicast-based applications, always try to perform live network testing to determine the maximum achievable throughput for each client device. However, a reasonable estimate is typically around 40% network overhead, with higher achievable throughput than TCP-based applications. For example, an 802.11n singlestream client with a maximum data rate of 65 Mbps and a network overhead assumption of 40% yields a maximum UDP throughput estimate of around 40 Mbps: 65 x (100% - 40%).

### Device Quantity

Determine the total quantity of each device type that will be in the environment. If you know this and the application throughput requirements for each device, you can estimate the peak network load and forecast the required aggregate AP capacity to support all client devices concurrently. List the quantity for every individual device model or category separately because differences in client device capabilities affect throughput and capacity estimates.